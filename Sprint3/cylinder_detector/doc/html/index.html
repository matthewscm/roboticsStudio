<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cylinder_detector: My Cylinder Detection Project</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cylinder_detector
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">My Cylinder Detection Project </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>This project demonstrates a ROS2 node for detecting cylinders using LaserScan data. It processes the LIDAR data to find and mark cylindrical objects in a 2D plane and publishes a marker in RViz. The node subscribes to the LaserScan topic and the Dead Reckoning Odometry topic to get the robot's pose. It then processes the LIDAR data and detected cylinders then applies the transformation to the marker. The node also provides a service to delete the marker.</p>
<h1><a class="anchor" id="run_sec"></a>
Running the node</h1>
<p>To run the node, use the following command: </p><div class="fragment"><div class="line">ros2 launch turtlebot3_gazebo team_world_launch.launch.py</div>
<div class="line">ros2 run turtlebot3_state_estimation  dead_reckoning_node</div>
<div class="line">ros2 run scan_matching_localizer scan_matching_localizer_node</div>
<div class="line">ros2 launch turtlebot3_navigation2 navigation2.launch.py map:=$HOME/ros2_ws/src/roboticsStudio/Sprint3/map3.yaml</div>
<div class="line">ros2 run cylinder_detector cylinder_node</div>
</div><!-- fragment --><h1><a class="anchor" id="functions_sec"></a>
Functions</h1>
<p>The node has the following functions:</p><ul>
<li>odom_callback: Callback function for the Odometry message sent by dead reckoning</li>
<li>laser_callback: Callback function for the LaserScan message</li>
<li>detect_cylinder: Detects a cylinder-like structure in the detected points</li>
<li>publish_marker: Publishes a marker at the centroid of the detected points</li>
<li>delete_marker: Deletes the marker</li>
<li>main: Main function to run the node </li>
</ul>
<h2><a class="anchor" id="subscribe_sec"></a>
Subscribed Topics</h2>
<ul>
<li>/scan (sensor_msgs::msg::LaserScan): The LaserScan data</li>
<li>/estimated_odom (nav_msgs::msg::Odometry): The Dead Reckoning Odometry data </li>
</ul>
<h2><a class="anchor" id="publish_sec"></a>
Published Topics</h2>
<ul>
<li>/visualization_marker (visualization_msgs::msg::Marker): The marker for the detected cylinder </li>
</ul>
<h2><a class="anchor" id="param_sec"></a>
Parameters</h2>
<ul>
<li>diameter: The diameter of the cylinder</li>
<li>radius: The radius of the cylinder</li>
<li>threshold: The tolerance for detection</li>
<li>detected_points: The detected points</li>
<li>read_counter: The counter for the number of reads</li>
<li>robot_pose_: The robot's pose</li>
<li>points_in_segment: The points in the segment </li>
</ul>
<h1><a class="anchor" id="output_sec"></a>
Output</h1>
<h2><a class="anchor" id="terminal_sec"></a>
Terminal Output</h2>
<p>The node outputs the following messages to the terminal:</p><ul>
<li>Cylinder detected! when a cylinder is detected</li>
<li>No cylinder detected. when no cylinder is detected </li>
</ul>
<h2><a class="anchor" id="rviz_sec"></a>
RViz Output</h2>
<p>The node publishes a marker in RViz when a cylinder is detected. </p><div class="image">
<img src="rviz.png" alt=""/>
<div class="caption">
Rviz with the red marker</div></div>
 <div class="image">
<img src="gazebo.png" alt=""/>
<div class="caption">
Gazebo with the cylinder</div></div>
<h1><a class="anchor" id="author_sec"></a>
Author</h1>
<p>Claire Matthews </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
